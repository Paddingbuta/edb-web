
#exec this script after prep.sh 
###############
FILE=/mnt/file
unlink $FILE
### now FS has only 3 free block available
### create file with many 'S' chars 
/tmp/open_write $FILE 0 3072 S
### writeback it to disk
sync
#### unlink this file
unlink $FILE
### just in case. file not exist now
stat $FILE  

### create file with hole
/tmp/open_write $FILE 4096 1 n
### try to write file to hole
/tmp/open_write $FILE 0 3999 a # ENOSPC here
### now check it's content 
### OOps it's contain info from reviously unlinked file
hexdump -C $FILE

