{
    "bugid": "176632",
    "cveid": [
        "CVE-2005-4470"
    ],
    "summary": "Blender 2.41 is out, CVE-2005-4470",
    "alias": "None",
    "product": "Fedora",
    "hardware": "All",
    "os": "Linux",
    "url": "http://www.blender.org/cms/Blender.31.0.html",
    "reported_date": "2005-12-28 01:57 UTC byLuya Tshimbalanga",
    "attachment": [
        "https://bugzilla-attachments.redhat.com/attachment.cgi?id=123896",
        "https://bugzilla-attachments.redhat.com/attachment.cgi?id=123953"
    ],
    "comment": [
        "From Bugzilla Helper:\nUser-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.8) Gecko/20051216 Fedora/1.5-3 Firefox/1.5\n\nDescription of problem:\nCan someone update Blender to 2.40 and include multilangual support as well\n\nVersion-Release number of selected component (if applicable):\n\n\nHow reproducible:\nAlways\n\nSteps to Reproduce:\n1.\n2.\n3.\n  \n\nAdditional info:",
        "Versions before 2.40 also have buffer overflow vulnerabilities:http://www.cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2005-4470",
        "Hello,\n\nbecouse I will be the new maintainer of blender, I have create a package for\nversion 2.40.\n\nBest Regards:\n\nJochen Schmitt",
        "I noticed that version is out for Fedora Core 4 and will be available in\ndevelopment. There is an odd issue related with the use of yafray,org (website\nis currently down).\n Shall we close thise bug report?",
        "blender 2.41 is just released.http://www.blender3d.org/cms/Blender_2_41.731.0.html",
        "Hello,\n\nI'm build 2.41 noew. Can you tell me more about your odd issue related withe the\nuse of yafray.org.\n\nPerhaps, I may able to reproduced your issue.\n\nBest Regards:\n\nJochen Schmitt",
        "yafray.org issues happened when rendering a complex object with more effects.\nWhen rendering a simple cube with a spot light, there is no problem. However,\nwhen I added effects such as ray-tracing, transparencies and more with \nyafray engine, Blender will crash. I think the problem is with \nthe additional sources from the spec file.\n I have no problem rendering yafray on other OS like Windows XP.",
        "Createdattachment 123896[details]blender debug using yafray-0.8\n\nReproduction of problem of rendering using yafray.\nyafray.org. Perhpas someone should contact the author\nabout that issue on Fedora.",
        "Can you create a backtrace for the test fromattachment #123896[details]. I think in the\nbacktrace you may determinate the source of the failure.\n\nAFAIK yafray is a seperate plugin for blender, so from my point of view it's\nimportant to know which package is responsible for the failure.\n\nBest Regards:\n\nJochen Schmitt",
        "Becouse yafray is a seperate package, I have create a RPM for Fedora Extras and\nuploaded it to:http://www.herr-schmitt.de/pub/yafray/It will be nice, if you may download this package and test it. Aspecialy, it may\nbe nice, if you can test your complaint issue.\n\nBest Regards:\n\nJochen Schmitt",
        "Createdattachment 123953[details]blender backtrace\n\nHere is the backtrace using the original yafray package.",
        "Apparently the problem can be reproduced by setting z transparency,\ndisable xml in Yafray rendering, set YafrayGI with Full method and any quality.",
        "> (no debugging symbols found)Not helpful. Please take a look athttp://fedoraproject.org/wiki/StackTracesenable the \"debug\" repository and install the missing -debuginfo packages.\nFor packages you rpmbuild manually, you should install these -debuginfo\npackages, too.",
        "Comment onattachment 123953[details]blender backtrace\n\n$ gdb blender\nGNU gdb Red Hat Linux (6.3.0.0-1.98rh)\nCopyright 2004 Free Software Foundation, Inc.\nGDB is free software, covered by the GNU General Public License, and you are\nwelcome to change it and/or distribute copies of it under certain conditions.\nType \"show copying\" to see the conditions.\nThere is absolutely no warranty for GDB.  Type \"show warranty\" for details.\nThis GDB was configured as \"i386-redhat-linux-gnu\"...\n(no debugging symbols found)\nUsing host libthread_db library \"/lib/libthread_db.so.1\".\n\n(gdb) run\nStarting program: /usr/bin/blender\nReading symbols from shared object read from target memory...(no debugging\nsymbols found)...done.\nLoaded system supplied DSO at 0xd6b000\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n[Thread debugging using libthread_db enabled]\n[New Thread -1209009984 (LWP 22535)]\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n---Type <return> to continue, or q <return> to quit---\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\nUsing Python version 2.4\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\nStarting scene conversion.\nScene conversion done.\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\n(no debugging symbols found)\nLoading plugins ...\nYafRay plugin loaded\nImage initialized\nZbuffer initialized\n[Warning]: Unknown shader type blendershader\n[Error]: undefined shader MAMaterial object ignored\n[WARNING]:Unused param cast_shadows in light\n[WARNING]:Unused param color in light\n[WARNING]:Unused param from in light\n[WARNING]:Unused param glow_intensity in light\n[WARNING]:Unused param glow_offset in light\n[WARNING]:Unused param glow_type in light\n[WARNING]:Unused param power in light\n[WARNING]:Unused param caus_depth in light\n[WARNING]:Unused param depth in light\n[WARNING]:Unused param power in light\n[WARNING]:Unused param samples in light\n[Warning]: Wrong type for background constant\n[Loader]: Added camera MAINCAM\nUsing a world resolution of 0.00114286 per unit\nRendering with 5 raydepth\n2 anti-alias passes and 4 minimum samples per pass, 8 samples total.\n[Warning]: Background world_background does not exist\nBuilding bounding tree ... OK\nLight setup ...\nSetting up lights ...\nFinished setting up lights\n\nLaunching 1 threads\n\nRender pass: [*** glibc detected *** /usr/bin/blender: munmap_chunk(): invalid\npointer: 0x0a58d088 ***\n======= Backtrace: =========\n/lib/libc.so.6(__libc_free+0x17b)[0x20ff4f]\n/usr/lib/libstdc++.so.6(_ZdlPv+0x21)[0x3547c09]\n/usr/bin/blender(_ZNSt6vectorIfSaIfEE14_M_fill_insertEN9__gnu_cxx17__normal_ite\nratorIPfS1_EEjRKf+0xc8)[0x8365cb8]\n/usr/lib/libyafraycore.so(_ZN6yafray14blockSpliter_t7getAreaERNS_12renderArea_t\nE+0x199)[0x467f61]\n======= Memory map: ========\n00111000-00137000 r-xp 00000000 fd:00 1511789\t /usr/lib/libyafrayplugin.so\n00137000-00138000 rwxp 00026000 fd:00 1511789\t /usr/lib/libyafrayplugin.so\n00185000-00187000 r-xp 00000000 fd:00 1509716\t /usr/lib/libXau.so.6.0.0\n00187000-00188000 rwxp 00001000 fd:00 1509716\t /usr/lib/libXau.so.6.0.0\n0018c000-001a5000 r-xp 00000000 fd:00 720904\t /lib/ld-2.3.90.so\n001a5000-001a6000 r-xp 00018000 fd:00 720904\t /lib/ld-2.3.90.so\n001a6000-001a7000 rwxp 00019000 fd:00 720904\t /lib/ld-2.3.90.so\n001a9000-002ca000 r-xp 00000000 fd:00 720922\t /lib/libc-2.3.90.so\n002ca000-002cc000 r-xp 00121000 fd:00 720922\t /lib/libc-2.3.90.so\n002cc000-002cd000 rwxp 00123000 fd:00 720922\t /lib/libc-2.3.90.so\n002cd000-002d0000 rwxp 002cd000 00:00 0\n002d2000-002f5000 r-xp 00000000 fd:00 720952\t /lib/libm-2.3.90.so\n002f5000-002f6000 r-xp 00022000 fd:00 720952\t /lib/libm-2.3.90.so\n002f6000-002f7000 rwxp 00023000 fd:00 720952\t /lib/libm-2.3.90.so\n002f9000-002fb000 r-xp 00000000 fd:00 720930\t /lib/libdl-2.3.90.so\n002fb000-002fc000 r-xp 00001000 fd:00 720930\t /lib/libdl-2.3.90.so\n002fc000-002fd000 rwxp 00002000 fd:00 720930\t /lib/libdl-2.3.90.so\n002ff000-00311000 r-xp 00000000 fd:00 1527459\t /usr/lib/libz.so.1.2.3\n00311000-00312000 rwxp 00011000 fd:00 1527459\t /usr/lib/libz.so.1.2.3\n00314000-00319000 r-xp 00000000 fd:00 1511266\t /usr/lib/libXdmcp.so.6.0.0\n00319000-0031a000 rwxp 00004000 fd:00 1511266\t /usr/lib/libXdmcp.so.6.0.0\n0031c000-00410000 r-xp 00000000 fd:00 1513730\t /usr/lib/libX11.so.6.2.0\n00410000-00414000 rwxp 000f4000 fd:00 1513730\t /usr/lib/libX11.so.6.2.0\n0042c000-00431000 r-xp 00000000 fd:00 1521940\t /usr/lib/libartsc.so.0.0.0\n00431000-00432000 rwxp 00004000 fd:00 1521940\t /usr/lib/libartsc.so.0.0.0\n00434000-00437000 r-xp 00000000 fd:00 1520199\t\n/usr/lib/libgmodule-2.0.so.0.902.3\n00437000-00438000 rwxp 00002000 fd:00 1520199\t\n/usr/lib/libgmodule-2.0.so.0.902.3\n00438000-0049a000 r-xp 00000000 fd:00 1512487\t /usr/lib/libyafraycore.so\n0049a000-004a1000 rwxp 00061000 fd:00 1512487\t /usr/lib/libyafraycore.so\n004a1000-004a2000 rwxp 004a1000 00:00 0\n004a8000-004ad000 r-xp 00000000 fd:00 1520434\t /usr/lib/libogg.so.0.5.3\n004ad000-004ae000 rwxp 00004000 fd:00 1520434\t /usr/lib/libogg.so.0.5.3\n004f2000-004f6000 r-xp 00000000 fd:00 1523848\t /usr/lib/libXfixes.so.3.0.0\n004f6000-004f7000 rwxp 00003000 fd:00 1523848\t /usr/lib/libXfixes.so.3.0.0\n004fc000-0050a000 r-xp 00000000 fd:00 721058\t /lib/libpthread-2.3.90.so\n0050a000-0050b000 r-xp 0000d000 fd:00 721058\t /lib/libpthread-2.3.90.so\n0050b000-0050c000 rwxp 0000e000 fd:00 721058\t /lib/libpthread-2.3.90.so\n0050c000-0050e000 rwxp 0050c000 00:00 0\n00532000-00598000 r-xp 00000000 fd:00 1527461\t /usr/lib/libfreetype.so.6.3.8\n00598000-0059b000 rwxp 00066000 fd:00 1527461\t /usr/lib/libfreetype.so.6.3.8\n005a3000-005c8000 r-xp 00000000 fd:00 1527460\t /usr/lib/libpng12.so.0.1.2.8\n005c8000-005c9000 rwxp 00025000 fd:00 1527460\t /usr/lib/libpng12.so.0.1.2.8\n00615000-0061c000 r-xp 00000000 fd:00 1520441\t\n/usr/lib/libvorbisfile.so.3.1.10061c000-0061d000 rwxp 00006000 fd:00 1520441   \n/usr/lib/libvorbisfile.so.3.1.100621000-00628000 r-xp 00000000 fd:00 1518128   \n/usr/lib/libdrm.so.2.0.0\n00628000-00629000 rwxp 00006000 fd:00 1518128\t /usr/lib/libdrm.so.2.0.0\n0062c000-00635000 r-xp 00000000 fd:00 1523852\t /usr/lib/libXcursor.so.1.0.2\n00635000-00636000 rwxp 00008000 fd:00 1523852\t /usr/lib/libXcursor.so.1.0.2\n00636000-006bb000 r-xp 00000000 fd:00 1511814\t /usr/lib/libIlmImf.so.2.0.2\n006bb000-006be000 rwxp 00084000 fd:00 1511814\t /usr/lib/libIlmImf.so.2.0.2\n00773000-0078f000 r-xp 00000000 fd:00 1520435\t /us\nProgram received signal SIGABRT, Aborted.\n[Switching to Thread -1209009984 (LWP 22535)]\n---Type <return> to continue, or q <return> to quit---\n0x00d6b402 in __kernel_vsyscall ()\n(gdb) thread apply all bt\n\nThread 1 (Thread -1209009984 (LWP 22535)):\n#0  0x00d6b402 in __kernel_vsyscall ()\n#1  0x001d1079 in raise () from /lib/libc.so.6\n#2  0x001d2613 in abort () from /lib/libc.so.6\n#3  0x0020557b in __libc_message () from /lib/libc.so.6\n#4  0x0020ff4f in free () from /lib/libc.so.6\n#5  0x03547c09 in operator delete () from /usr/lib/libstdc++.so.6\n#6  0x08365cb8 in std::vector<float, std::allocator<float> >::_M_fill_insert ()\n#7  0x00467f61 in yafray::blockSpliter_t::getArea ()\n   from /usr/lib/libyafraycore.so\n#8  0x00472b3c in yafray::threadedscene_t::render ()\n   from /usr/lib/libyafraycore.so\n#9  0x001200bd in yafray::interfaceImpl_t::render ()\n   from /usr/lib/libyafrayplugin.so\n#10 0x0829e5e0 in yafrayPluginRender_t::writeRender ()\n#11 0x082805e3 in yafrayRender_t::exportScene ()\n#12 0x0827dc19 in YAF_exportScene ()\n#13 0x082566b9 in render ()\n#14 0x08258a9b in RE_initrender ()\n#15 0x081955a1 in BIF_toggle_render_display ()\n#16 0x08195688 in BIF_do_render ()\n#17 0x081a8de8 in scrarea_do_winhandle ()\n---Type <return> to continue, or q <return> to quit---\n#18 0x0813941d in screenmain ()\n#19 0x0810d8b2 in main ()\n(gdb)",
        "Just updated blender. I report the same problem using yafray (including your\nbuilt) listed oncomment #13",
        "I have looked on www.yafray.org.\n\nAt the bug tracker I have foundBug #2828where a issue was reported which\nsounds like the issue discussed in this bug.\n\nAfter I have read a tutorial about yafray, I was able to test the yafray\nintegration on my machine. I was able to call the yafray rendering engine. \n\nUnfortunately, I have got a blank scrennt but not a crash.\n\nBest Regards:\n\nJocheh Schmitt",
        "Blank screen means you have XML enabled on Yafray tab. Disable it. On Yafray GI,\nset Method to Full and choose any Qualtiy scene (for example Low). Voila,\nBlender will exit.",
        "I have toggle the XML-Button. The result is, that I will get a blank screen but\nnot a crash.\n\nBest Regards:\n\nJochen Schmitt",
        "this bug should be closed  the initial report is resolved.  the second issue \nshould be its own bug.  this makes searching easier.",
        "OK. But now yafray is not a package in Fedora Extras.",
        "I have created #182460 which points to this bug for futher information."
    ]
}