// gcc -Wall -g `pkg-config --libs --cflags gdk-pixbuf` gdk-pixbuf-loadimg.c
//
#include <stdio.h>
#include <gdk-pixbuf/gdk-pixbuf.h>
//#include <glib.h>

int main(int argc, char* argv[]) {
	GdkPixbuf *gpb;
	//GError *error;

	if (argc != 2) {
		fprintf(stderr, "usage: %s file.img\n", argv[0]);
		return 1;
	}

	//if ((gpb = gdk_pixbuf_new_from_file(argv[1], &error)) == NULL) {
	if ((gpb = gdk_pixbuf_new_from_file(argv[1])) == NULL) {
		//fprintf(stderr, "error: %s\n", err->message);
		fprintf(stderr, "error loading image %s\n", argv[1]);
		return 1;
	}
	
	printf("%s loaded fine\n", argv[1]);

	return 0;
}
