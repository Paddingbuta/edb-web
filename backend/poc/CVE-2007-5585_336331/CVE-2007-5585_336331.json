{
    "bugid": "336331",
    "cveid": [
        "CVE-2007-5585"
    ],
    "summary": "CVE-2007-5585 password prompt crashes by gl hacks without gl helper",
    "alias": "CVE-2007-5585",
    "product": "Fedora",
    "hardware": "All",
    "os": "Linux",
    "url": "",
    "reported_date": "2007-10-17 15:54 UTC byPatrick C. F. Ernzer",
    "attachment": [
        "https://bugzilla-attachments.redhat.com/attachment.cgi?id=230971"
    ],
    "comment": [
        "Description of problem:\nxscreensaver has started crashing a few days ago\n\nVersion-Release number of selected component (if applicable):\nxscreensaver-5.03-10.fc7.src.rpm\n\nHow reproducible:\nsometimes\n\nSteps to Reproduce:\n1. lock screen\n2. leave computer\n3. come back and wiggle mouse if screen dark\n  \nActual results:\nscreen unlocked without entering password\n\nExpected results:\nscreen remains locked until I enter my password\n\nAdditional info:\noutput of \"xscreensaver -sync -verbose -no-capture\" will be attached.\nstupidly enough I forgot to up the ulimit -c from 0.\nit's running in sync and verbose mode again after \"ulimit -c 2048\". Will update\nthis BZ if it craps out again.",
        "Createdattachment 229981[details]xscreensaver -sync -verbose -no-capture",
        "setting NEEDINFO on me until such time that I submit a core",
        "Createdattachment 230961[details]now I got a core",
        "Createdattachment 230971[details]xscreensaver -sync -verbose -no-capture\n\nthis is the output \"xscreensaver -sync -verbose -no-capture\" in the run that\ngenerated the core in (private)attachment 230961[details]",
        "(In reply tocomment #4)> this is the output \"xscreensaver -sync -verbose -no-capture\" in the run that\n> generated the core in (private)attachment 230961[details][edit]This returns \"You are not authorized to access this attachment.\" (for me)...",
        "in reply toComment #5oh, sorry, fixed now.",
        "I guess you don't have xscreensaver-gl-extras installed\nand rss-glx-xscreensaver installed, right? \nIn this case, the crash can be reproduced to me on rawhide.\n\nIf so, would you check if your crash still occur even if\nyou have xscreensaver-gl-extras (more precisely, \nthe binary /usr/bin/xscreensaver-gl-helper ) installed?",
        "(In reply tocomment #7)> I guess you don't have xscreensaver-gl-extras installed\n> and rss-glx-xscreensaver installed, right?To avoid confusion, I wanted to say that I guess you don't\nhave xscreensaver-gl-extras installed but you have rss-glx-xscreensaver\n(and rss-glx) installed.",
        "Also:\nif my guess is correct (i.e. you don't have xscreensaver-gl-extras\ninstalled), when you\n- make it sure that you have xscreensaver-base, rss-glx, rss-glx-xscreensaver\n  installed\n- remove xscreensaver-extras \n- launch xscreensaver\n- type \"xscreensaver-command -lock\" as login user\n- and try to unlock\nthen you probably get crash more frequently.",
        "In reply to comments #7 and #8:\n$ rpm -q xscreensaver-gl-extras rss-glx-xscreensaver xscreensaver-base rss-glx\nrss-glx-xscreensaver\npackage xscreensaver-gl-extras is not installed\nrss-glx-xscreensaver-0.8.1.p-11.fc7\nxscreensaver-base-5.03-10.fc7\nrss-glx-0.8.1.p-11.fc7\nrss-glx-xscreensaver-0.8.1.p-11.fc7\n\n\n\nIn reply tocomment #9:\nremoved xscreensaver-extras and was able to reproduce the crash 3 times in a row\nwith \"xscreensaver-command -lock\"\n\nI have now added xscreensaver-gl-extras to my system (but xscreensaver-extras is\nstill left off) will see if it crashes in the nwxt few days.)\n\nDo I understand correctly fromcomment #8that the rss-glx-xscreensaver RPM\nshould have a dependency on xscreensaver-gl-extras ?",
        "(In reply tocomment #10)> Do I understand correctly fromcomment #8that the rss-glx-xscreensaver RPM\n> should have a dependency on xscreensaver-gl-extras ?I have to have a discussion with Nils.\n\nHello, Nils:\nIt seems that GL hacks makes xscreensaver crash when xscreensaver is\nlocked and the user tries to type a password to unlock the display,\nwhen /usr/bin/xscreensaver-gl-helper is not available.\nSo rss-glx-xscreensaver should require /usr/bin/xscreensaver-gl-helper.\n\nThen:\n- simply adding \"Requires: xscreensaver-gl-extras\" to\n  rss-glx-xscreensaver is preferable? Where I dislike this is that\n  rss-glx-xscreensaver does not actually need the whole\n  xscreensaver-gl-extras, only gl helper is needed.\n- or I will create xscreensaver-gl-base subpackage. move gl helper\n  to xscreensaver-gl-base and make rss-glx-xscreensaver require\n  xscreensaver-gl-base?",
        "(In reply tocomment #11)> (In reply tocomment #10)\n> > Do I understand correctly fromcomment #8that the rss-glx-xscreensaver RPM\n> > should have a dependency on xscreensaver-gl-extras ?\n> I have to have a discussion with Nils.\n> \n> Hello, Nils:\n> It seems that GL hacks makes xscreensaver crash when xscreensaver is\n> locked and the user tries to type a password to unlock the display,\n> when /usr/bin/xscreensaver-gl-helper is not available.\n> So rss-glx-xscreensaver should require /usr/bin/xscreensaver-gl-helper.\n> \n> Then:\n> - simply adding \"Requires: xscreensaver-gl-extras\" to\n>   rss-glx-xscreensaver is preferable? Where I dislike this is that\n>   rss-glx-xscreensaver does not actually need the whole\n>   xscreensaver-gl-extras, only gl helper is needed.\n> - or I will create xscreensaver-gl-base subpackage. move gl helper\n>   to xscreensaver-gl-base and make rss-glx-xscreensaver require\n>   xscreensaver-gl-base?While \"Require: /usr/bin/xscreensaver-gl-helper\" would be the cleanest thing to\ndo in rss-glx-xscreensaver, I like to avoid dependencies on files as they're\npotentially expensive at the dependency solving stage in yum. The next cleanest\nthing would be a split off helper binary and a requirement on that package\n(\"Requires: xscreensaver-gl-base\"). I agree that requiring the whole of\nxscreensaver-gl-extras is a bit over the top.",
        "(In reply tocomment #12)> I like to avoid dependencies on files as they're\n> potentially expensive at the dependency solving stage in yum.I agree.> The next cleanest\n> thing would be a split off helper binary and a requirement on that package\n> (\"Requires: xscreensaver-gl-base\").Okay. Then I will create a new \"xscreensaver-gl-base\" subpackage and\nsplit off \"/usr/bin/xscrensaver-gl-helper\" (and its man file) to\nxscreensaver-gl-base.",
        "Well, it seems that now ACL is now blocked for mass F-8 branching.https://www.redhat.com/archives/fedora-devel-list/2007-October/msg01465.htmlI will commit the change (for xscreensaver) when CVS is again open,\nrebuild, then I will notice on this bug.",
        "Hello, Ian:\n\nNow we decided that packages which contain xscreensaver GL hacks\nshould require xscreensaver-gl-base (xscreensaver-gl-base will be\ncreated in xscreensaver 5.03-12). So tempest-xscreensaver should\nalso have \"Requires; xscreensaver-gl-base\".\nAlso, conf file in tempest-xscreensaver had a copy-and-paste typo\nwhich has to be fixed.\n\nI uploaded a new tempest srpm onhttp://mtasaka.fedorapeople.org/Bugfix/tempest-0-0.3.20070929.fc8.src.rpmWould you rebuild this srpm on devel, F-8 and F-7\nonce CVS is unlocked again?",
        "5.03-12.fc{7,8} now rebuilt.http://koji.fedoraproject.org/koji/buildinfo?buildID=21635http://koji.fedoraproject.org/koji/buildinfo?buildID=21636",
        "(In reply tocomment #15)> Hello, Ian:> I uploaded a new tempest srpm on\n>http://mtasaka.fedorapeople.org/Bugfix/tempest-0-0.3.20070929.fc8.src.rpm> \n> Would you rebuild this srpm on devel, F-8 and F-7\n> once CVS is unlocked again?Well, this srpm again has a mistake...\nFor tempest I will submit a new CVS commit for this bug by myself, so\nplease don't worry, Ian.",
        "tempest also done.",
        "rss-glx-0.8.1.p-15.fc{7,8} now built:http://koji.fedoraproject.org/koji/buildinfo?buildID=21646http://koji.fedoraproject.org/koji/buildinfo?buildID=21643Mamoru, will you push the F7 and F8(*) packages through Bodhi together? Thanks.\n\n(*) AFAIK, as F8 is now frozen, these get scheduled as updates if you don't tell\nrel-eng that they should go into the final release.",
        "(In reply tocomment #19)> rss-glx-0.8.1.p-15.fc{7,8} now built:\n> \n>http://koji.fedoraproject.org/koji/buildinfo?buildID=21646>http://koji.fedoraproject.org/koji/buildinfo?buildID=21643Thanks.> \n> Mamoru, will you push the F7 and F8(*) packages through Bodhi together? Thanks.\n> \n> (*) AFAIK, as F8 is now frozen, these get scheduled as updates if you don't tell\n> rel-eng that they should go into the final release.For F-8, I mailed to rel-eng team.\nOnce rel-eng team accepted for F-8, I will request a new update for F-7\non bodhi as security (\"as security\" means that testing repo is skipped).",
        "The CVE Identifier for this issue has been requested.\n\nPlease always add Security keyword to bugs that might have Security impact to\nensure proper and timely Security Response Team reaction. Thanks!",
        "tempest-0-0.4.20070929.fc7, rss-glx-0.8.1.p-15.fc7, xscreensaver-5.03-12.fc7 has been pushed to the Fedora 7 stable repository.  If problems still persist, please make note of it in this bug report.",
        "***Bug 357841has been marked as a duplicate of this bug. ***",
        "xscreensaver-5.03-14.fc7 has been pushed to the Fedora 7 stable repository.  If problems still persist, please make note of it in this bug report.",
        "xscreensaver-5.03-14.fc8 has been pushed to the Fedora 8 stable repository.  If problems still persist, please make note of it in this bug report."
    ]
}