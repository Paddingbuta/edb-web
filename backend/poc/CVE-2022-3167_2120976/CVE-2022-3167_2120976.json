{
    "bugid": "2120976",
    "cveid": [
        "CVE-2022-3167"
    ],
    "summary": "CVE-2022-31676 open-vm-tools: local root privilege escalation in the virtual machine [fedora-all]",
    "alias": "None",
    "product": "Fedora",
    "hardware": "Unspecified",
    "os": "Unspecified",
    "url": "",
    "reported_date": "2022-08-24 08:31 UTC byMarian Rehak",
    "attachment": [
        "https://bugzilla-attachments.redhat.com/attachment.cgi?id=1908325"
    ],
    "comment": [
        "This is an automatically created tracking bug!  It was created to ensure\nthat one or more security vulnerabilities are fixed in affected versions\nof fedora-all.\n\nFor comments that are specific to the vulnerability please use bugs filed\nagainst the \"Security Response\" product referenced in the \"Blocks\" field.\n\nFor more information see:http://fedoraproject.org/wiki/Security/TrackingBugsWhen submitting as an update, use the fedpkg template provided in the next\ncomment(s).  This will include the bug IDs of this tracking bug as well as\nthe relevant top-level CVE bugs.\n\nPlease also mention the CVE IDs being fixed in the RPM changelog and the\nfedpkg commit message.\n\nNOTE: this issue affects multiple supported versions of Fedora. While only\none tracking bug has been filed, please correct all affected versions at\nthe same time.  If you need to fix the versions independent of each other,\nyou may clone this bug as appropriate.",
        "Use the following template to for the 'fedpkg update' request to submit an\nupdate for this issue as it contains the top-level parent bug(s) as well as\nthis tracking bug.  This will ensure that all associated bugs get updated\nwhen new packages are pushed to stable.\n\n=====\n\n# bugfix, security, enhancement, newpackage (required)\ntype=security\n\n# low, medium, high, urgent (required)\nseverity=high\n\n# testing, stable\nrequest=testing\n\n# Bug numbers: 1234,9876\nbugs=2118714,2120976\n\n# Description of your update\nnotes=Security fix for [PUT CVEs HERE]\n\n# Enable request automation based on the stable/unstable karma thresholds\nautokarma=True\nstable_karma=3\nunstable_karma=-3\n\n# Automatically close bugs when this marked as stable\nclose_bugs=True\n\n# Suggest that users restart after update\nsuggest_reboot=False\n\n======\n\nAdditionally, you may opt to use the bodhi web interface to submit updates:https://bodhi.fedoraproject.org/updates/new",
        "I have started the update for open-vm-tools for fc35, fc36, fc37 and fc38.\n\nI am getting build failures for fc37 and fc38 (rawhide) but they are unrelated to the security fix to the source code.\n\nI am also getting the same build failures with the current open-vm-tools 12.0.5-2 top-of-tree source.\n\nInvestigating why the \"mass\" build for Fedora 37 succeeded and now it is failing.\n\nIn the meantime I am attaching the following:\n\n   1205-Properly-check-authorization-on-incoming-guestOps-re.patch  # fix forCVE-2022-31676open-vm-tools.spec           # partial change \n            - contains Release bump to '3'\n            - defines Patch1 fo the CVE patch being added.\n            - missing ChangLog update",
        "Createdattachment 1908324[details]Fix forCVE-2022-31676",
        "Createdattachment 1908325[details]Preliminary revision to the open-vm-tools.spec file\n\nWork in progress:\n  - Release # bumped to \"3\"\n  - Added Patch1 for the CVE fix\n  - missing the ChangeLog update associated with this revision in progress.",
        "In the process of preparing the fix to open-vm-tools 12.0.5 for PR 120976 -CVE-2022-31676, and find that I cannot build the existing open-vm-tools 12.0.5-2 packages.\n\nfc35: open-vm-tools-12.0.5-2.fc35 - BUILDS\nfc36: open-vm-tools-12.0.5-2.fc36 - BUILDS\nfc37: open-vm-tools-12.0.5-2.fc37 - FAILS packaging.\nfc38: open-vm-tools-12.0.5-2.fc38 - FAILS packaging.\n\nThat makes me wonder how the \"mass\" rebuild for Fedora 37 succeeded?\n\nThe failure is related to the packaging of the  ??????????????\n\n\nFor fc36 build:\n===========================\n\nBuild command: fedpkg --release f36 mockbuild --no-cleanup-after\n\nfrom results_open-vm-tools/12.0.5/2.fc36/build.log\n----------------------------------------------------> /usr/bin/install -p -d /builddir/build/BUILDROOT/open-vm-tools-12.0.5-2.fc36.x86_64/usr/lib/udev/rules.d\n> /usr/bin/install -p -m 644 ./99-vmware-scsi-udev.rules /builddir/build/BUILDROOT/open-vm-tools-12.0.5-2.fc36.x86_64/usr/lib/udev/rules.d\n>                                                                                                                     ^^^^\n>    ...\n> + chmod a-x /builddir/build/BUILDROOT/open-vm-tools-12.0.5-2.fc36.x86_64/usr/lib/udev/rules.d/99-vmware-scsi-udev.rulesfrom /var/lib/mock/fedora-36-x86_64/root/builddir/build//BUILD/open-vm-tools-12.0.5-19716617/config.log\n-----------------------------------------------------------------------------> UDEVRULESDIR='/usr/lib/udev/rules.d'For fc37 build:\n========================\n\nBuild command:   fedpkg --release f37 mockbuild --no-cleanup-after\n\nfrom results_open-vm-tools/12.0.5/2.fc37/build.log\n----------------------------------------------------> /usr/bin/install -p -d /builddir/build/BUILDROOT/open-vm-tools-12.0.5-2.fc37.x86_64/lib/udev/rules.d\n> /usr/bin/install -p -m 644 ./99-vmware-scsi-udev.rules /builddir/build/BUILDROOT/open-vm-tools-12.0.5-2.fc37.x86_64/lib/udev/rules.d\n>                                                                                                                    ^===== no /usr\n>    ...\n> + chmod a-x /builddir/build/BUILDROOT/open-vm-tools-12.0.5-2.fc37.x86_64/usr/lib/udev/rules.d/99-vmware-scsi-udev.rules\n> chmod: cannot access '/builddir/build/BUILDROOT/open-vm-tools-12.0.5-2.fc37.x86_64/usr/lib/udev/rules.d/99-vmware-scsi-udev.rules': No such file or directoryfrom /var/lib/mock/fedora-37-x86_64/root/builddir/build//BUILD/open-vm-tools-12.0.5-19716617/config.log;\n---------------------------------------------------------------------------> UDEVRULESDIR='/lib/udev/rules.d'    #  missing the \"/usr\" prefix ????",
        "FEDORA-2022-20d374ce8f has been submitted as an update to Fedora 37.https://bodhi.fedoraproject.org/updates/FEDORA-2022-20d374ce8f",
        "FEDORA-2022-cd23eac6f4 has been submitted as an update to Fedora 36.https://bodhi.fedoraproject.org/updates/FEDORA-2022-cd23eac6f4",
        "FEDORA-2022-9a73b28b96 has been submitted as an update to Fedora 35.https://bodhi.fedoraproject.org/updates/FEDORA-2022-9a73b28b96",
        "FEDORA-2022-20d374ce8f has been pushed to the Fedora 37 testing repository.\nSoon you'll be able to install the update with the following command:\n`sudo dnf upgrade --enablerepo=updates-testing --refresh --advisory=FEDORA-2022-20d374ce8f`\nYou can provide feedback for this update here:https://bodhi.fedoraproject.org/updates/FEDORA-2022-20d374ce8fSee alsohttps://fedoraproject.org/wiki/QA:Updates_Testingfor more information on how to test updates.",
        "FEDORA-2022-cd23eac6f4 has been pushed to the Fedora 36 testing repository.\nSoon you'll be able to install the update with the following command:\n`sudo dnf upgrade --enablerepo=updates-testing --refresh --advisory=FEDORA-2022-cd23eac6f4`\nYou can provide feedback for this update here:https://bodhi.fedoraproject.org/updates/FEDORA-2022-cd23eac6f4See alsohttps://fedoraproject.org/wiki/QA:Updates_Testingfor more information on how to test updates.",
        "FEDORA-2022-9a73b28b96 has been pushed to the Fedora 35 testing repository.\nSoon you'll be able to install the update with the following command:\n`sudo dnf upgrade --enablerepo=updates-testing --refresh --advisory=FEDORA-2022-9a73b28b96`\nYou can provide feedback for this update here:https://bodhi.fedoraproject.org/updates/FEDORA-2022-9a73b28b96See alsohttps://fedoraproject.org/wiki/QA:Updates_Testingfor more information on how to test updates.",
        "FEDORA-2022-cd23eac6f4 has been pushed to the Fedora 36 stable repository.\nIf problem still persists, please make note of it in this bug report.",
        "FEDORA-2022-1b8d3b2845 has been pushed to the Fedora 37 testing repository.\nSoon you'll be able to install the update with the following command:\n`sudo dnf upgrade --enablerepo=updates-testing --refresh --advisory=FEDORA-2022-1b8d3b2845`\nYou can provide feedback for this update here:https://bodhi.fedoraproject.org/updates/FEDORA-2022-1b8d3b2845See alsohttps://fedoraproject.org/wiki/QA:Updates_Testingfor more information on how to test updates.",
        "FEDORA-2022-1c9c0bacaf has been pushed to the Fedora 35 testing repository.\nSoon you'll be able to install the update with the following command:\n`sudo dnf upgrade --enablerepo=updates-testing --refresh --advisory=FEDORA-2022-1c9c0bacaf`\nYou can provide feedback for this update here:https://bodhi.fedoraproject.org/updates/FEDORA-2022-1c9c0bacafSee alsohttps://fedoraproject.org/wiki/QA:Updates_Testingfor more information on how to test updates.",
        "FEDORA-2022-1b8d3b2845 has been pushed to the Fedora 37 stable repository.\nIf problem still persists, please make note of it in this bug report.",
        "FEDORA-2022-1c9c0bacaf has been pushed to the Fedora 35 stable repository.\nIf problem still persists, please make note of it in this bug report."
    ]
}