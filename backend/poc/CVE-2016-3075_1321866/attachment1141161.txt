Program received signal SIGSEGV, Segmentation fault.
0x00007ffff3ff5d63 in _nss_dns_getnetbyname_r (
name=0x7fffd5ed4010 'x' <repeats 63 times>, ".", 'x' <repeats 63
Hide quoted text
times>, ".", 'x' <repeats 63 times>, ".xxxxxxxx"...,
result=0x7ffff779e370 <resbuf>, buffer=0x609ff0 "p\241`", buflen=1024,
errnop=0x7ffff7fd3698,
herrnop=0x7fffffffe044) at nss_dns/dns-network.c:127
127 qbuf = strdupa (name);
(gdb) bt
#0 0x00007ffff3ff5d63 in _nss_dns_getnetbyname_r (
name=0x7fffd5ed4010 'x' <repeats 63 times>, ".", 'x' <repeats 63
Hide quoted text
times>, ".", 'x' <repeats 63 times>, ".xxxxxxxx"...,
result=0x7ffff779e370 <resbuf>, buffer=0x609ff0 "p\241`", buflen=1024,
errnop=0x7ffff7fd3698,
herrnop=0x7fffffffe044) at nss_dns/dns-network.c:127
#1 0x00007ffff74f5d10 in __getnetbyname_r (
name=name@entry=0x7fffd5ed4010 'x' <repeats 63 times>, ".", 'x'
<repeats 63 times>, ".", 'x' <repeats 63 times>, ".xxxxxxxx"...,
resbuf=resbuf@entry=0x7ffff779e370 <resbuf>, buffer=0x609ff0 "p\241`",
buflen=buflen@entry=1024, result=result@entry=0x7fffffffe048,
h_errnop=h_errnop@entry=0x7fffffffe044)
at ../nss/getXXbyYY_r.c:266
#2 0x00007ffff74f57c2 in getnetbyname (
name=0x7fffd5ed4010 'x' <repeats 63 times>, ".", 'x' <repeats 63
Hide quoted text
times>, ".", 'x' <repeats 63 times>, ".xxxxxxxx"...) at
./nss/getXXbyYY.c:116
#3 0x0000000000401d2d in check_long_name () at tst-network.c:211
#4 main () at tst-network.c:295
(gdb) l
122 enum nss_status status;
123
124 if (__res_maybe_init (&_res, 0) == -1)
125 return NSS_STATUS_UNAVAIL;
126
127 qbuf = strdupa (name);
128
129 net_buffer.buf = orig_net_buffer = (querybuf *) alloca (1024);
130
131 anslen = __libc_res_nsearch (&_res, qbuf, C_IN, T_PTR,
net_buffer.buf->buf,
(gdb)

“name” points to a long string which may have crossed a trust boundary
